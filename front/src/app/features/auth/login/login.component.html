<!-- login.component.html -->
<div class="page-auth">
  <div class="content-auth slide-up">
    <!-- Formulaire avec classes harmonisÃ©es -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="w-full">
      <h2 class="text-center mb-lg">Se connecter</h2>

      <!-- Erreur globale -->
      <div
        class="form__error mb-md"
        *ngIf="errorService.error$ | async as globalError"
      >
        {{ globalError }}
      </div>

      <!-- Champ Email -->
      <div class="form__group">
        <label class="form__label">Email</label>
        <input
          class="form__field"
          [class.form__field--error]="hasFieldError('email')"
          formControlName="email"
          type="email"
          placeholder="votre@email.com"
        />
        <span class="form__error" *ngIf="hasFieldError('email')">
          {{ getFieldError("email") }}
        </span>
      </div>

      <!-- Champ Mot de passe -->
      <div class="form__group">
        <label class="form__label">Mot de passe</label>
        <input
          class="form__field"
          [class.form__field--error]="hasFieldError('password')"
          formControlName="password"
          type="password"
          placeholder="Votre mot de passe"
        />
        <span class="form__error" *ngIf="hasFieldError('password')">
          {{ getFieldError("password") }}
        </span>
      </div>

      <!-- Submit button -->
      <div class="form__group">
        <button
          class="btn btn--primary btn--auth"
          [class.loading]="loading"
          type="submit"
          [disabled]="loading"
        >
          {{ loading ? "Connexion..." : "Se connecter" }}
        </button>
      </div>
    </form>
  </div>
</div>
