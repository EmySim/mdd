<!-- register.component.html -->
<div class="page-fullscreen">
  <div class="content-auth slide-up">
    <img
      src="/assets/back_arrow.svg"
      alt="Retour"
      class="back-arrow"
      (click)="goBack()"
    />
    <!-- Logo auth (mÃªme comportement que landing) -->
    <div class="logo-section--auth">
      <img
        src="/assets/logo_landing_dsk.png"
        alt="MDD"
        class="logo logo--auth"
      />
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="w-full">
      <h1 class="text-center mb-lg">Inscription</h1>

      <!-- Champ Username -->
      <div class="form__group">
        <label class="form__label">Nom d'utilisateur</label>
        <input
          class="form__field"
          [class.form__field--error]="hasFieldError('username')"
          formControlName="username"
        />
        <span class="form__error" *ngIf="hasFieldError('username')">
          {{ getFieldError("username") }}
        </span>
      </div>

      <!-- Champ Email -->
      <div class="form__group">
        <label class="form__label">Adresse e-mail</label>
        <input
          class="form__field"
          [class.form__field--error]="hasFieldError('email')"
          formControlName="email"
          type="email"
        />
        <span class="form__error" *ngIf="hasFieldError('email')">
          {{ getFieldError("email") }}
        </span>
      </div>

      <!-- Champ Password -->
      <div class="form__group">
        <label class="form__label">Mot de passe</label>
        <input
          class="form__field"
          [class.form__field--error]="hasFieldError('password')"
          formControlName="password"
          type="password"
        />
        <span class="form__error" *ngIf="hasFieldError('password')">
          {{ getFieldError("password") }}
        </span>
      </div>

      <!-- Submit button -->
      <div class="form__group">
        <button
          class="btn btn--primary btn--auth"
          [class.loading]="isLoading"
          type="submit"
          [disabled]="!registerForm.valid || isLoading"
        >
          {{ isLoading ? "Inscription..." : "S'inscrire" }}
        </button>
      </div>
    </form>
  </div>
</div>
