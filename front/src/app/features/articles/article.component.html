<!-- article.component.html - STRUCTURE NETTOYÉE -->
<div class="page-with-navbar">
  <!-- En-tête avec bouton et tri -->
  <div class="page-with-navbar__header">
    <div class="container">
      <!-- Ligne unique : Bouton créer (gauche) + Tri (droite) -->
      <div class="flex-between mb-lg">
        <!-- Bouton créer article (gauche) -->
        <div class="header-actions">
          <button class="btn btn--primary" (click)="createArticle()">
            Créer un article
          </button>
        </div>

        <!-- Tri seulement (droite) -->
        <div class="filter-group">
          <button
            class="btn btn--sort"
            (click)="changeSortDirection()"
            [disabled]="isLoading"
          >
            Trier par {{ sortDirection === 'desc' ? '↓' : '↑' }}
          </button>
        </div>
      </div>
 
    </div>
  </div>

  <!-- Contenu principal -->
  <div class="page-with-navbar__content">
    <div class="container">
      <!-- Loading -->
      <div class="text-center p-xl" *ngIf="isLoading">
        <div class="loading-spinner"></div>
        <p class="text-secondary">Chargement des articles...</p>
      </div>

      <!-- Articles -->
      <div *ngIf="!isLoading">
        <!-- Grid des articles -->
        <div class="grid" *ngIf="articles.length > 0">
          <article
            class="card"
            *ngFor="let article of articles; trackBy: trackByArticleId"
            (click)="viewArticle(article)"
          >
            <!-- Titre -->
            <h2 class="title">{{ article.title }}</h2>

            <!-- Métadonnées -->
            <div class="article-meta mb-sm">
              <span class="article-date">{{
                article.createdAt | date : "dd/MM/yyyy"
              }}</span>
              <span class="article-author">{{ article.authorUsername }}</span>
            </div>

            <!-- Contenu -->
            <p class="article-content mb-md">
              {{ truncateContent(article.content) }}
            </p>
          </article>
        </div>
      </div>
    </div>
  </div>
</div>
